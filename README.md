# NNMG
Neural Network Music Generation

### Data
В RawData есть три файла:
- openSites.py - открывает в хроме множество сайтов. 
Использовался вместе с расширением, позволяющим 
скачивать все файлы с открытых сайтов. Так я собирал датасет.
- deleteNotMidi.py и deleteCorruptFiles.py - говорят сами за себя.

В порядке использования:
1. ReadMidi.py - выводит содержимое midi-файла.
2. UniqueMessages.py - выводит все уникальные midi-сообщения.
3. DeleteMetaMessage.py - удаляет все мета-сообщения и приводит к единому темпу в файле.
4. OneTempo.py - приводит все файлы к одному темпу.
5. Cut.py - вырезает все базовые последовательности нот. 
Метод основан на принадлежности нот к различным каналам и изменении инструмента. 
6. OneTrackOneChannel.py - соединяет все ноты в один трек и один канал.
7. OneOctave.py - приводит все ноты в одну октаву.
8. toJSON.py - создает файд json с данными для обучения.


### generateMelody
- generateMelody.py (копируется из train/model/V*) - генерирует мелодию, используя нейронную сеть. Создает json файл.
- toMIDI.py - превращает json-файл в midi-файл.
- toWAV.py - превращает midi-файл в wav-файл, используя fluidsynth.


### train
sliceData.py - создает датасет из последовательностей определенной длины.

В папке models хранятся модели:
- V*.py - сама модель.
- fit.py - обучение модели.
- generateMelody.py - генерирование мелодии.




